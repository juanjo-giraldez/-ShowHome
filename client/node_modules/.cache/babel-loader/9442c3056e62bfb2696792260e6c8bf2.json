{"ast":null,"code":"var _jsxFileName = \"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/events/Events-list.js\";\nimport React from \"react\";\nimport EventService from \"../../service/Events.service\";\nimport { Container, Row } from \"react-bootstrap\";\nimport EventCardPlans from \"./Events-card-plans\";\n\nclass EventList extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.updateEventsList();\n    };\n\n    this.updateEventsList = () => {\n      this._EventService.getAllEvents().then(allEventsFromDB => this.setState({\n        events: allEventsFromDB.data\n      })).catch(err => console.log(\"Error\", err));\n    };\n\n    this.deleteEvent = id => {\n      this._EventService.deleteEvent(id).then(this.updateEventsList);\n    };\n\n    this.handleShow = () => this.setState({\n      showModalWindow: true\n    });\n\n    this.handleClose = () => this.setState({\n      showModalWindow: false\n    });\n\n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser,\n      events: [],\n      showModalWindow: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Estos son los planes , mira y unete alguno... \"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, this.state.events.map(event => React.createElement(EventCardPlans, Object.assign({\n      key: event._id\n    }, event, {\n      updateEventsList: this.updateEventsList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default EventList;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/events/Events-list.js"],"names":["React","EventService","Container","Row","EventCardPlans","EventList","Component","constructor","props","componentDidMount","updateEventsList","_EventService","getAllEvents","then","allEventsFromDB","setState","events","data","catch","err","console","log","deleteEvent","id","handleShow","showModalWindow","handleClose","state","loggedInUser","render","map","event","_id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AAEA,SAASC,SAAT,EAAoBC,GAApB,QAA+B,iBAA/B;AAEA,OAAOC,cAAP,MAA2B,qBAA3B;;AAGA,MAAMC,SAAN,SAAwBL,KAAK,CAACM,SAA9B,CAAwC;AACtC;AACAC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAUnBC,iBAVmB,GAUC,MAAM;AAC1B,WAAKC,gBAAL;AACC,KAZkB;;AAAA,SAenBA,gBAfmB,GAeA,MAAM;AAEvB,WAAKC,aAAL,CACGC,YADH,GAEGC,IAFH,CAEQC,eAAe,IAAI,KAAKC,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAEF,eAAe,CAACG;AAA1B,OAAd,CAF3B,EAGGC,KAHH,CAGSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB,CAHhB;AAID,KArBkB;;AAAA,SAuBrBG,WAvBqB,GAuBPC,EAAE,IAAI;AAClB,WAAKZ,aAAL,CACGW,WADH,CACeC,EADf,EAEGV,IAFH,CAEQ,KAAKH,gBAFb;AAGD,KA3BoB;;AAAA,SAkCnBc,UAlCmB,GAkCN,MAAM,KAAKT,QAAL,CAAc;AAAEU,MAAAA,eAAe,EAAE;AAAnB,KAAd,CAlCA;;AAAA,SAmCnBC,WAnCmB,GAmCL,MAAM,KAAKX,QAAL,CAAc;AAAEU,MAAAA,eAAe,EAAE;AAAnB,KAAd,CAnCD;;AAGjB,SAAKd,aAAL,GAAqB,IAAIV,YAAJ,EAArB;AACA,SAAK0B,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAEpB,KAAK,CAACoB,YADT;AAEXZ,MAAAA,MAAM,EAAE,EAFG;AAGXS,MAAAA,eAAe,EAAE;AAHN,KAAb;AAKD;;AA4BDI,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDADF,EAKE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKF,KAAL,CAAWX,MAAX,CAAkBc,GAAlB,CAAsBC,KAAK,IAC1B,oBAAE,cAAF;AACE,MAAA,GAAG,EAAEA,KAAK,CAACC;AADb,OAEMD,KAFN;AAGE,MAAA,gBAAgB,EAAE,KAAKrB,gBAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADD,CADH,CALF,CADF,CADF;AAsBD;;AA9DqC;;AAiExC,eAAeL,SAAf","sourcesContent":["import React from \"react\";\nimport EventService from \"../../service/Events.service\";\n\nimport { Container, Row,} from \"react-bootstrap\";\n\nimport EventCardPlans from \"./Events-card-plans\";\n\n\nclass EventList extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n    \n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser,\n      events: [],\n      showModalWindow: false\n    };\n  }\n  componentDidMount = () => {\n  this.updateEventsList();\n  }\n    \n\n  updateEventsList = () => {\n    \n    this._EventService\n      .getAllEvents()\n      .then(allEventsFromDB => this.setState({ events: allEventsFromDB.data }))\n      .catch(err => console.log(\"Error\", err));\n  };\n\ndeleteEvent = id => {\n  this._EventService\n    .deleteEvent(id)\n    .then(this.updateEventsList)\n}\n \n\n\n\n  \n\n  handleShow = () => this.setState({ showModalWindow: true });\n  handleClose = () => this.setState({ showModalWindow: false });\n\n  render() {\n    return (\n      <section>\n        <Container>\n          <h1 className>Estos son los planes , mira y unete alguno... </h1>\n\n          {/* <Button variant=\"dark\" onClick={this.handleShow}>AÃ±adir evento</Button> */}\n\n          <Row>\n            {this.state.events.map(event => (\n              < EventCardPlans\n                key={event._id}\n                {...event}\n                updateEventsList={this.updateEventsList}\n                \n              />\n            ))}\n          </Row>\n        </Container>\n\n        \n      </section>\n    );\n  }\n}\n\nexport default EventList;\n"]},"metadata":{},"sourceType":"module"}