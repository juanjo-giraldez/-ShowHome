{"ast":null,"code":"import _classCallCheck from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import EventsDetailsService from\"../../service/Events.service\";import{Container,Row,Col,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";var EventDetail=/*#__PURE__*/function(_Component){_inherits(EventDetail,_Component);function EventDetail(props){var _this;_classCallCheck(this,EventDetail);_this=_possibleConstructorReturn(this,_getPrototypeOf(EventDetail).call(this,props));_this.componentDidMount=function(){var eventId=_this.props.match.params.id;_this._service.getOneEvent(eventId).then(function(theEvent){return _this.setState({event:theEvent.data});}).catch(function(err){return console.log(err);});};_this.updateEventsList=function(){_this._service.getAllEvents().then(function(allEventsFromDB){return _this.setState({events:allEventsFromDB.data});}).catch(function(err){return console.log(\"Error\",err);});};_this.joinThePlan=function(){var id=_this.props.match.params.id;var idUser=_this.props.loggedInUser._id;_this._service.joinedEvent(id,idUser);var userRole=_this.props.loggedInUser.role;if(userRole==='creator'){return _this.props.history.push('/profile/creator');}if(userRole==='host'){return _this.props.history.push('/profile/host');}if(userRole==='explorer'){return _this.props.history.push('/profile/explorer');}};_this.state={event:{}};_this._service=new EventsDetailsService();return _this;}_createClass(EventDetail,[{key:\"render\",value:function render(){return React.createElement(Container,null,React.createElement(\"section\",null,React.createElement(Row,null,React.createElement(Col,{md:6},React.createElement(\"img\",{src:this.state.event.imgUrl,alt:'foto de detalles '})),React.createElement(Col,{md:6},React.createElement(\"h1\",null,\" \",this.state.event.nameEvent),React.createElement(\"h3\",null,React.createElement(\"strong\",null,\"Ciudad: \"),\" \",this.state.event.town),React.createElement(\"p\",null,React.createElement(\"strong\",null,\"Descripci\\xF3n:\"),\" \",this.state.event.description),React.createElement(\"hr\",null),React.createElement(\"p\",null,React.createElement(\"strong\",null,\"Plazas:\"),\" \",this.state.event.capacityPlace,\" personas|\",React.createElement(\"strong\",null,\"Correo eletr\\xF3nico\"),\" \",this.state.event.email),React.createElement(Row,null,React.createElement(Button,{className:\"button-card\",variant:\"dark\",onClick:this.joinThePlan},\"Me apunto\")),React.createElement(Row,null,React.createElement(Link,{to:\"/plans\",className:\"btn btn-dark button-card btn-top  \"},\" Volver \"))))));}}]);return EventDetail;}(Component);export default EventDetail;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/events/Events-details.js"],"names":["React","Component","EventsDetailsService","Container","Row","Col","Button","Link","EventDetail","props","componentDidMount","eventId","match","params","id","_service","getOneEvent","then","theEvent","setState","event","data","catch","err","console","log","updateEventsList","getAllEvents","allEventsFromDB","events","joinThePlan","idUser","loggedInUser","_id","joinedEvent","userRole","role","history","push","state","imgUrl","nameEvent","town","description","capacityPlace","email"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EventsDetailsService from \"../../service/Events.service\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nclass EventDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state =  {event: {} };\n    this._service = new EventsDetailsService();\n  }\n  \n  \n  \n  componentDidMount = () => {\n    \n    const eventId = this.props.match.params.id;\n    this._service\n    .getOneEvent(eventId)\n    .then(theEvent => this.setState({ event: theEvent.data }))\n    .catch(err => console.log(err));\n  };\n  \n  updateEventsList = () => {\n    this._service\n    .getAllEvents()\n    .then(allEventsFromDB => this.setState({\n      events: allEventsFromDB.data\n    }))\n    .catch(err => console.log(\"Error\", err));\n  };\n  \n  \n  \n  \n  \n  joinThePlan = () => {\n    let id = this.props.match.params.id\n    let idUser = this.props.loggedInUser._id\n    this._service.joinedEvent(id, idUser)\n    let userRole = this.props.loggedInUser.role\n    if (userRole === 'creator') {return (this.props.history.push('/profile/creator'))}\n    if (userRole === 'host') {return (this.props.history.push('/profile/host'))}\n    if (userRole === 'explorer') {return (this.props.history.push('/profile/explorer'))}\n    }\n    \n\n  render() {\n    \n    \n    return (\n      <Container>\n        <section>\n          <Row>\n            <Col md={6}>\n              <img src={this.state.event.imgUrl} alt={'foto de detalles '}></img>\n              \n            </Col>\n            <Col md={6}>\n              <h1> {this.state.event.nameEvent}</h1>\n              <h3>\n                <strong>Ciudad: </strong> {this.state.event.town}\n              </h3>\n              <p>\n                <strong>Descripción:</strong> {this.state.event.description}\n              </p>\n              <hr></hr>\n              <p>\n                <strong>Plazas:</strong> {this.state.event.capacityPlace} personas|\n                <strong>Correo eletrónico</strong> {this.state.event.email}\n\n              \n              </p>\n               < Row >\n              <Button className=\"button-card\"variant=\"dark\" onClick={this.joinThePlan}>Me apunto</Button> \n              </Row>\n              < Row >\n              < Link \n              to = \"/plans\"\n              className = \"btn btn-dark button-card btn-top  \" > Volver </Link>\n              </Row>\n            </Col>\n            \n          </Row>\n        </section>\n      </Container>\n    );\n  }\n}\n\nexport default EventDetail;\n"]},"metadata":{},"sourceType":"module"}