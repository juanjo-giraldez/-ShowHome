{"ast":null,"code":"import _classCallCheck from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import EventService from\"../../service/Events.service\";import{Container,Row}from\"react-bootstrap\";import EventCardPlans from\"./Events-card-plans\";var EventList=/*#__PURE__*/function(_React$Component){_inherits(EventList,_React$Component);// el hijo no puede traer nada del padre sin el props\nfunction EventList(props){var _this;_classCallCheck(this,EventList);_this=_possibleConstructorReturn(this,_getPrototypeOf(EventList).call(this,props));_this.componentDidMount=function(){_this.updateEventsList();};_this.updateEventsList=function(){_this._EventService.getAllEvents().then(function(allEventsFromDB){return _this.setState({events:allEventsFromDB.data});}).catch(function(err){return console.log(\"Error\",err);});};_this.deleteEvent=function(id){_this._EventService.deleteEvent(id).then(_this.updateEventsList);};_this.handleShow=function(){return _this.setState({showModalWindow:true});};_this.handleClose=function(){return _this.setState({showModalWindow:false});};_this._EventService=new EventService();_this.state={loggedInUser:props.loggedInUser,events:[],showModalWindow:false};return _this;}_createClass(EventList,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"section\",null,React.createElement(Container,null,React.createElement(\"h1\",{className:\"text-center\"},\"Estos son los planes , mira y unete alguno... \"),React.createElement(Row,null,this.state.events.map(function(event){return React.createElement(EventCardPlans,Object.assign({key:event._id},event,{updateEventsList:_this2.updateEventsList}));}))));}}]);return EventList;}(React.Component);export default EventList;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/events/Events-list.js"],"names":["React","EventService","Container","Row","EventCardPlans","EventList","props","componentDidMount","updateEventsList","_EventService","getAllEvents","then","allEventsFromDB","setState","events","data","catch","err","console","log","deleteEvent","id","handleShow","showModalWindow","handleClose","state","loggedInUser","map","event","_id","Component"],"mappings":"2rBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CAEA,OAASC,SAAT,CAAoBC,GAApB,KAA+B,iBAA/B,CAEA,MAAOC,CAAAA,cAAP,KAA2B,qBAA3B,C,GAGMC,CAAAA,S,+EACJ;AACA,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GADiB,MAUnBC,iBAVmB,CAUC,UAAM,CAC1B,MAAKC,gBAAL,GACC,CAZkB,OAenBA,gBAfmB,CAeA,UAAM,CAEvB,MAAKC,aAAL,CACGC,YADH,GAEGC,IAFH,CAEQ,SAAAC,eAAe,QAAI,OAAKC,QAAL,CAAc,CAAEC,MAAM,CAAEF,eAAe,CAACG,IAA1B,CAAd,CAAJ,EAFvB,EAGGC,KAHH,CAGS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,CAAJ,EAHZ,EAID,CArBkB,OAuBrBG,WAvBqB,CAuBP,SAAAC,EAAE,CAAI,CAClB,MAAKZ,aAAL,CACGW,WADH,CACeC,EADf,EAEGV,IAFH,CAEQ,MAAKH,gBAFb,EAGD,CA3BoB,OAkCnBc,UAlCmB,CAkCN,iBAAM,OAAKT,QAAL,CAAc,CAAEU,eAAe,CAAE,IAAnB,CAAd,CAAN,EAlCM,OAmCnBC,WAnCmB,CAmCL,iBAAM,OAAKX,QAAL,CAAc,CAAEU,eAAe,CAAE,KAAnB,CAAd,CAAN,EAnCK,CAGjB,MAAKd,aAAL,CAAqB,GAAIR,CAAAA,YAAJ,EAArB,CACA,MAAKwB,KAAL,CAAa,CACXC,YAAY,CAAEpB,KAAK,CAACoB,YADT,CAEXZ,MAAM,CAAE,EAFG,CAGXS,eAAe,CAAE,KAHN,CAAb,CAJiB,aASlB,C,6DA4BQ,iBACP,MACE,oCACE,oBAAC,SAAD,MACE,0BAAI,SAAS,CAAC,aAAd,mDADF,CAKE,oBAAC,GAAD,MACG,KAAKE,KAAL,CAAWX,MAAX,CAAkBa,GAAlB,CAAsB,SAAAC,KAAK,QAC1B,qBAAE,cAAF,gBACE,GAAG,CAAEA,KAAK,CAACC,GADb,EAEMD,KAFN,EAGE,gBAAgB,CAAE,MAAI,CAACpB,gBAHzB,GAD0B,EAA3B,CADH,CALF,CADF,CADF,CAsBD,C,uBA9DqBR,KAAK,CAAC8B,S,EAiE9B,cAAezB,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport EventService from \"../../service/Events.service\";\n\nimport { Container, Row,} from \"react-bootstrap\";\n\nimport EventCardPlans from \"./Events-card-plans\";\n\n\nclass EventList extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n    \n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser,\n      events: [],\n      showModalWindow: false\n    };\n  }\n  componentDidMount = () => {\n  this.updateEventsList();\n  }\n    \n\n  updateEventsList = () => {\n    \n    this._EventService\n      .getAllEvents()\n      .then(allEventsFromDB => this.setState({ events: allEventsFromDB.data }))\n      .catch(err => console.log(\"Error\", err));\n  };\n\ndeleteEvent = id => {\n  this._EventService\n    .deleteEvent(id)\n    .then(this.updateEventsList)\n}\n \n\n\n\n  \n\n  handleShow = () => this.setState({ showModalWindow: true });\n  handleClose = () => this.setState({ showModalWindow: false });\n\n  render() {\n    return (\n      <section>\n        <Container>\n          <h1 className=\"text-center\">Estos son los planes , mira y unete alguno... </h1>\n\n          {/* <Button variant=\"dark\" onClick={this.handleShow}>AÃ±adir evento</Button> */}\n\n          <Row>\n            {this.state.events.map(event => (\n              < EventCardPlans\n                key={event._id}\n                {...event}\n                updateEventsList={this.updateEventsList}\n                \n              />\n            ))}\n          </Row>\n        </Container>\n\n        \n      </section>\n    );\n  }\n}\n\nexport default EventList;\n"]},"metadata":{},"sourceType":"module"}