{"ast":null,"code":"var _jsxFileName = \"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/zone/Creator.js\";\nimport React from \"react\";\nimport EventService from \"../../service/Events.service\";\nimport { Container, Row, Button, Modal } from \"react-bootstrap\";\nimport EventCard from \"../events/Events-card\";\nimport EventForm from \"../events/Events-form\";\nimport EventSelect from \"../events/Events-card-mySelect\";\n\nclass CreatorProfile extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.updateEventsListTwo();\n      this.updateEventsList();\n    };\n\n    this.updateEventsListTwo = () => {\n      this._EventService.getAllEvents().then(allEventsFromDB => {\n        console.log('-------mira que hay aqui--------', allEventsFromDB.data);\n        let listTwo = allEventsFromDB.data.filter(event => this.state.loggedInUser === event.participant);\n        this.setState({\n          eventsSelect: listTwo\n        });\n      }).catch(err => console.log(\"Error\", err));\n    };\n\n    this.updateEventsList = () => {\n      this._EventService.getAllEvents().then(allEventsFromDB => {\n        let eventlist = allEventsFromDB.data.filter(event => this.state.loggedInUser === event.creator);\n        this.setState({\n          events: eventlist\n        });\n      }) // .getAllEvents()\n      // .then(allEventsFromDB => {\n      //   let eventSelectlist = allEventsFromDB.data.filter(\n      //     event => this.state.loggedInUser && event.creator\n      //   )\n      .catch(err => console.log(\"Error\", err));\n    };\n\n    this.deleteEvent = id => {\n      this._EventService.deleteEvent(id).then(this.updateEventsList);\n    };\n\n    this.handleShow = () => this.setState({\n      showModalWindow: true\n    });\n\n    this.handleClose = () => this.setState({\n      showModalWindow: false\n    });\n\n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser._id,\n      events: [],\n      eventsSelect: [],\n      showModalWindow: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \" Mis Eventos \"), React.createElement(Button, {\n      variant: \"dark\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \" \", \"A\\xF1adir evento\", \" \"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.events.map(event => React.createElement(EventCard, Object.assign({\n      key: event._id\n    }, event, {\n      updateEventsList: this.updateEventsList,\n      deleteEvent: this.deleteEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \" Mis planes seleccionados \"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.eventsSelect.map(event => React.createElement(EventSelect, Object.assign({\n      key: event._id\n    }, event, {\n      updateEventsList: this.updateEventsList,\n      deleteEvent: this.deleteEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))).filter)), React.createElement(Modal, {\n      show: this.state.showModalWindow,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \" A\\xF1adir nuevo evento \"), \" \"), \" \", React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(EventForm, {\n      closeModalWindow: this.handleClose,\n      updateEventsList: this.updateEventsList,\n      loggedInUser: this.state.loggedInUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), \" \"), \" \"));\n  }\n\n}\n\nexport default CreatorProfile; // import React from \"react\";\n// const Creator = props =>  <h1> Bienvenid @ {props.loggedInUser.username} tu categoria es {props.loggedInUser.role} Kultural</h1>;;\n// export default Creator;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/zone/Creator.js"],"names":["React","EventService","Container","Row","Button","Modal","EventCard","EventForm","EventSelect","CreatorProfile","Component","constructor","props","componentDidMount","updateEventsListTwo","updateEventsList","_EventService","getAllEvents","then","allEventsFromDB","console","log","data","listTwo","filter","event","state","loggedInUser","participant","setState","eventsSelect","catch","err","eventlist","creator","events","deleteEvent","id","handleShow","showModalWindow","handleClose","_id","render","map"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport EventService from \"../../service/Events.service\";\n\nimport { Container, Row, Button, Modal } from \"react-bootstrap\";\n\nimport EventCard from \"../events/Events-card\";\nimport EventForm from \"../events/Events-form\";\nimport EventSelect from \"../events/Events-card-mySelect\";\n\nclass CreatorProfile extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n    \n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser._id,\n      events: [],\n      eventsSelect: [], \n      showModalWindow: false\n      \n    };\n    \n    \n  }\n\n  componentDidMount = () => {\n    this.updateEventsListTwo()\n    this.updateEventsList();\n  }\n\n\n  updateEventsListTwo = () => {\n    this._EventService\n      .getAllEvents()\n      .then(allEventsFromDB => { \n        console.log('-------mira que hay aqui--------',allEventsFromDB.data)\n        let listTwo = allEventsFromDB.data.filter(\n          event => this.state.loggedInUser === event.participant )\n        this.setState({\n          eventsSelect: listTwo\n        });\n\n       })\n\n      .catch(err => console.log(\"Error\", err));\n  };\n\n\n\n  updateEventsList = () => {\n    \n    this._EventService\n      .getAllEvents()\n    \n      .then(allEventsFromDB => {\n        let eventlist = allEventsFromDB.data.filter(\n          event => this.state.loggedInUser === event.creator\n          );\n          this.setState({\n          events: eventlist\n        });\n      })\n      // .getAllEvents()\n      // .then(allEventsFromDB => {\n      //   let eventSelectlist = allEventsFromDB.data.filter(\n      //     event => this.state.loggedInUser && event.creator\n      //   )\n      .catch(err => console.log(\"Error\", err));\n      };\n\n  \n\n\n  deleteEvent = id => {\n    this._EventService\n      .deleteEvent(id)\n      .then(this.updateEventsList)\n  }\n\n  handleShow = () =>\n    this.setState({\n      showModalWindow: true\n    });\n  handleClose = () =>\n    this.setState({\n      showModalWindow: false\n    });\n\n  render() {\n    \n    return (\n      <section>\n        <Container>\n          <h1> Mis Eventos </h1>\n          \n          <Button variant=\"dark\" onClick={this.handleShow}>\n            {\" \"}\n            Añadir evento{\" \"}\n          </Button>\n          <Row>{this.state.events.map(event => (< EventCard key = {event._id} {...event} updateEventsList = {this.updateEventsList} deleteEvent={this.deleteEvent}/>))}\n          </Row>\n          <hr></hr>\n          < h2 > Mis planes seleccionados </h2>\n          <Row>\n            {this.state.eventsSelect.map(event => (< EventSelect key = {event._id} {...event} updateEventsList = {this.updateEventsList} deleteEvent={this.deleteEvent}/>)).filter}\n         \n          </Row>\n          \n        </Container>\n\n        <Modal show={this.state.showModalWindow} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title> Añadir nuevo evento </Modal.Title>{\" \"}\n          </Modal.Header>{\" \"}\n          <Modal.Body>\n            <EventForm\n              closeModalWindow={this.handleClose}\n              updateEventsList={this.updateEventsList}\n              loggedInUser={this.state.loggedInUser}\n            />{\" \"}\n          </Modal.Body>{\" \"}\n        </Modal>\n      </section>\n    );\n  }\n}\n\nexport default CreatorProfile;\n\n// import React from \"react\";\n\n// const Creator = props =>  <h1> Bienvenid @ {props.loggedInUser.username} tu categoria es {props.loggedInUser.role} Kultural</h1>;;\n\n// export default Creator;\n"]},"metadata":{},"sourceType":"module"}