{"ast":null,"code":"import _classCallCheck from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Switch,Route,Redirect}from\"react-router-dom\";import Service from\"./service/Auth.service\";import Index from\"./components/pages/Index\";// import Plans from \"./components/pages/plans\";\nimport EventDetails from\"./components/events/Events-details\";import EventsList from\"./components/events/Events-list\";import SpacesList from\"./components/spaces/Spaces-list\";import Search from\"./components/pages/Search\";import Creator from\"./components/zone/Creator\";import Host from\"./components/zone/Host\";import Explorer from\"./components/zone/Explorer\";import Signup from\"./components/auth/Signup\";import Login from\"./components/auth/Login\";import Navbar from\"./components/ui/Navbar\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));_this.setTheUser=function(user){_this.setState({loggedInUser:user});console.log(\"El método 'setTheUser' de App.js se ha invocado, pasando al estado 'loggedInUser:\",_this.state.loggedInUser);};_this.fetchUser=function(){if(_this.state.loggedInUser===null){_this._service.loggedin().then(function(theLoggedInUserFromTheServer){return _this.setState({loggedInUser:theLoggedInUserFromTheServer.data});}).catch(function(err){_this.setState({loggedInUser:false});console.log({err:err});});}};_this.state={loggedInUser:null};_this._service=new Service();return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;this.fetchUser();return React.createElement(React.Fragment,null,React.createElement(Navbar,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),\" \",React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:Index}),\" \",React.createElement(Route,{exact:true,path:\"/search\",render:function render(){return _this2.state.loggedInUser?React.createElement(Search,{loggedInUser:_this2.state.loggedInUser}):React.createElement(Redirect,{to:\"/ \"});}}),\" \",\" \",React.createElement(Route,{exact:true,path:\"/profile/creator\",render:function render(){return _this2.state.loggedInUser?React.createElement(Creator,{loggedInUser:_this2.state.loggedInUser}):React.createElement(Redirect,{to:\"/ \"});}}),\" \",React.createElement(Route,{exact:true,path:\"/profile/spaces\",render:function render(){return _this2.state.loggedInUser?React.createElement(SpacesList,{loggedInUser:_this2.state.loggedInUser}):React.createElement(Redirect,{to:\"/ \"});}}),\" \",React.createElement(Route,{exact:true,path:\"/plans\",render:function render(){return _this2.state.loggedInUser?React.createElement(EventsList,{loggedInUser:_this2.state.loggedInUser}):React.createElement(Redirect,{to:\"/ \"});}}),\" \",React.createElement(Route,{exact:true,path:\"/profile/host\",render:function render(){return _this2.state.loggedInUser?React.createElement(Host,{loggedInUser:_this2.state.loggedInUser}):React.createElement(Redirect,{to:\"/ \"});}}),\" \",React.createElement(Route,{exact:true,path:\"/profile/explorer\",render:function render(){return _this2.state.loggedInUser?React.createElement(Explorer,{loggedInUser:_this2.state.loggedInUser}):React.createElement(Redirect,{to:\"/ \"});}}),\" \",React.createElement(Route,{exact:true,path:\"/eventsDetails/:id\",render:function render(){return _this2.state.loggedInUser?React.createElement(EventDetails,{loggedInUser:_this2.state.loggedInUser}):React.createElement(Redirect,{to:\"/ \"});}}),React.createElement(Route,{path:\"/signup\",render:function render(match){return React.createElement(Signup,Object.assign({setUser:_this2.setTheUser},match));}}),React.createElement(Route,{path:\"/login\",render:function render(match){return React.createElement(Login,Object.assign({setUser:_this2.setTheUser},match));}})),\" \");}}]);return App;}(Component);export default App;// setUser={this.setTheUser}","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/App.js"],"names":["React","Component","Switch","Route","Redirect","Service","Index","EventDetails","EventsList","SpacesList","Search","Creator","Host","Explorer","Signup","Login","Navbar","App","setTheUser","user","setState","loggedInUser","console","log","state","fetchUser","_service","loggedin","then","theLoggedInUserFromTheServer","data","catch","err","match"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Service from \"./service/Auth.service\";\nimport Index from \"./components/pages/Index\";\n// import Plans from \"./components/pages/plans\";\nimport EventDetails from \"./components/events/Events-details\";\nimport EventsList from \"./components/events/Events-list\";\nimport SpacesList from \"./components/spaces/Spaces-list\";\nimport Search from \"./components/pages/Search\";\nimport Creator from \"./components/zone/Creator\";\nimport Host from \"./components/zone/Host\";\nimport Explorer from \"./components/zone/Explorer\";\nimport Signup from \"./components/auth/Signup\";\nimport Login from \"./components/auth/Login\";\nimport Navbar from \"./components/ui/Navbar\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedInUser: null\n    };\n    this._service = new Service();\n  }\n\n  setTheUser = user => {\n    this.setState({\n      loggedInUser: user\n    });\n    console.log(\n      \"El método 'setTheUser' de App.js se ha invocado, pasando al estado 'loggedInUser:\",\n      this.state.loggedInUser\n    );\n  };\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this._service\n        .loggedin()\n        .then(theLoggedInUserFromTheServer =>\n          this.setState({\n            loggedInUser: theLoggedInUserFromTheServer.data\n          })\n        )\n        .catch(err => {\n          this.setState({\n            loggedInUser: false\n          });\n          console.log({\n            err\n          });\n        });\n    }\n  };\n\n  render() {\n    this.fetchUser();\n\n    return (\n      <>\n        <Navbar\n          loggedInUser={this.state.loggedInUser}\n          setUser={this.setTheUser}\n        />{\" \"}\n        <Switch>\n          <Route exact path=\"/\" component={Index} />{\" \"}\n          <Route\n            exact\n            path=\"/search\"\n            render={() =>\n              this.state.loggedInUser ? (\n                <Search loggedInUser={this.state.loggedInUser} />\n              ) : (\n                <Redirect\n                  to=\"/\n              \"\n                />\n              )\n            }\n          />{\" \"}\n          {/* < Route exact path = \"/plans\"  render = {() => this.state.loggedInUser ? ( < Plans loggedInUser = {this.state.loggedInUser}/>) : ( <Redirect to = \"/\" />)} /> */}{\" \"}\n          <Route\n            exact\n            path=\"/profile/creator\"\n            render={() =>\n              this.state.loggedInUser ? (\n                <Creator loggedInUser={this.state.loggedInUser} />\n              ) : (\n                <Redirect\n                  to=\"/\n              \"\n                />\n              )\n            }\n          />{\" \"}\n          <Route\n            exact\n            path=\"/profile/spaces\"\n            render={() =>\n              this.state.loggedInUser ? (\n                <SpacesList loggedInUser={this.state.loggedInUser} />\n              ) : (\n                <Redirect\n                  to=\"/\n              \"\n                />\n              )\n            }\n          />{\" \"}\n          <Route\n            exact\n            path=\"/plans\"\n            render={() =>\n              this.state.loggedInUser ? (\n                <EventsList loggedInUser={this.state.loggedInUser} />\n              ) : (\n                <Redirect\n                  to=\"/\n              \"\n                />\n              )\n            }\n          />{\" \"}\n          <Route\n            exact\n            path=\"/profile/host\"\n            render={() =>\n              this.state.loggedInUser ? (\n                <Host loggedInUser={this.state.loggedInUser} />\n              ) : (\n                <Redirect\n                  to=\"/\n              \"\n                />\n              )\n            }\n          />{\" \"}\n          <Route\n            exact\n            path=\"/profile/explorer\"\n            render={() =>\n              this.state.loggedInUser ? (\n                <Explorer loggedInUser={this.state.loggedInUser} />\n              ) : (\n                <Redirect\n                  to=\"/\n              \"\n                />\n              )\n            }\n          />{\" \"}\n          <Route\n            exact\n            path=\"/eventsDetails/:id\"\n            render={()=>\n              this.state.loggedInUser ? (\n                <EventDetails\n                  loggedInUser={this.state.loggedInUser}\n                 \n                />\n              ) : (\n                <Redirect\n                  to=\"/\n              \"\n                />\n              )\n            }\n          />\n          <Route\n            path=\"/signup\"\n            render={match => <Signup setUser={this.setTheUser} {...match} />}\n          />\n          <Route\n            path=\"/login\"\n            render={match => <Login setUser={this.setTheUser} {...match} />}\n          />\n        </Switch>{\" \"}\n      </>\n    );\n  }\n}\n\nexport default App;\n\n// setUser={this.setTheUser}\n"]},"metadata":{},"sourceType":"module"}