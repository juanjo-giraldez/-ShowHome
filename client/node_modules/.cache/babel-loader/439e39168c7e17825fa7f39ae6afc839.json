{"ast":null,"code":"var _jsxFileName = \"/Users/usuario/Desktop/Ironhack/week7/Final-Proyect/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Service from './service/Auth.service';\n/* CUSTOM COASTER COMPONENTS */\n\nimport CoasterList from \"./components/coasters/Coaster-list\";\nimport CoasterDetails from \"./components/coasters/Coaster-details\";\nimport CoasterForm from './components/coasters/Coaster-form';\n/* CUSTOM UI COMPONENTS */\n\nimport Navbar from './components/ui/Navbar';\n/* CUSTOM PAGE COMPONENTS */\n\nimport Index from './components/pages/Index';\nimport Profile from './components/pages/Profile';\n/* CUSTOM AUTH COMPONENTS */\n\nimport Signup from './components/auth/Signup';\nimport Login from './components/auth/Login';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.setTheUser = user => {\n      this.setState({\n        loggedInUser: user\n      });\n      console.log(\"El método 'setTheUser' de App.js se ha invocado, pasando al estado 'loggedInUser:\", this.state.loggedInUser);\n    };\n\n    this.fetchUser = () => {\n      if (this.state.loggedInUser === null) {\n        this._service.loggedin().then(theLoggedInUserFromTheServer => this.setState({\n          loggedInUser: theLoggedInUserFromTheServer.data\n        })).catch(err => {\n          this.setState({\n            loggedInUser: false\n          });\n          console.log({\n            err\n          });\n        });\n      }\n    };\n\n    this.state = {\n      loggedInUser: null\n    };\n    this._service = new Service();\n  }\n\n  render() {\n    this.fetchUser();\n    return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n      loggedInUser: this.state.loggedInUser,\n      setUser: this.setTheUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      exact: true,\n      path: \"/coasters\",\n      render: () => React.createElement(CoasterList, {\n        loggedInUser: this.state.loggedInUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/coasters/:id\",\n      component: CoasterDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      path: \"/form\",\n      component: CoasterForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/signup\",\n      render: match => React.createElement(Signup, Object.assign({\n        setUser: this.setTheUser\n      }, match, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: match => React.createElement(Login, Object.assign({\n        setUser: this.setTheUser\n      }, match, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile\",\n      render: () => this.state.loggedInUser ? React.createElement(Profile, {\n        loggedInUser: this.state.loggedInUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }) : React.createElement(Redirect, {\n        to: \"/ \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), \" \"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/Final-Proyect/client/src/App.js"],"names":["React","Component","Switch","Route","Redirect","Service","CoasterList","CoasterDetails","CoasterForm","Navbar","Index","Profile","Signup","Login","App","constructor","setTheUser","user","setState","loggedInUser","console","log","state","fetchUser","_service","loggedin","then","theLoggedInUserFromTheServer","data","catch","err","render","match"],"mappings":"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","sourcesContent":["import React, {\n  Component\n} from 'react'\nimport {\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom'\n\nimport Service from './service/Auth.service'\n\n/* CUSTOM COASTER COMPONENTS */\nimport CoasterList from \"./components/coasters/Coaster-list\"\nimport CoasterDetails from \"./components/coasters/Coaster-details\"\nimport CoasterForm from './components/coasters/Coaster-form'\n\n/* CUSTOM UI COMPONENTS */\nimport Navbar from './components/ui/Navbar'\n\n/* CUSTOM PAGE COMPONENTS */\nimport Index from './components/pages/Index'\nimport Profile from './components/pages/Profile'\n\n/* CUSTOM AUTH COMPONENTS */\nimport Signup from './components/auth/Signup'\nimport Login from './components/auth/Login'\n\n\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = {\n      loggedInUser: null\n    }\n    this._service = new Service()\n  }\n\n  setTheUser = user => {\n    this.setState({\n      loggedInUser: user\n    })\n    console.log(\"El método 'setTheUser' de App.js se ha invocado, pasando al estado 'loggedInUser:\", this.state.loggedInUser)\n  }\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this._service.loggedin()\n        .then(theLoggedInUserFromTheServer => this.setState({\n          loggedInUser: theLoggedInUserFromTheServer.data\n        }))\n        .catch(err => {\n          this.setState({\n            loggedInUser: false\n          })\n          console.log({\n            err\n          })\n        })\n    }\n  }\n\n\n  render() {\n\n      this.fetchUser()\n\n      return ( <\n          >\n          <\n          Navbar loggedInUser = {\n            this.state.loggedInUser\n          }\n          setUser = {\n            this.setTheUser\n          }\n          />\n\n          <\n          Switch >\n          <\n          Route exact path = \"/\"\n          component = {\n            Index\n          }\n          /> <\n          Route exact path = \"/coasters\"\n          render = {\n            () => < CoasterList loggedInUser = {\n              this.state.loggedInUser\n            }\n            />} / >\n            <\n            Route path = \"/coasters/:id\"\n            component = {\n              CoasterDetails\n            }\n            /> <\n            Route path = \"/form\"\n            component = {\n              CoasterForm\n            }\n            />\n\n            <\n            Route path = \"/signup\"\n            render = {\n              match => < Signup setUser = {\n                this.setTheUser\n              } {\n                ...match\n              }\n              />} / >\n              <\n              Route path = \"/login\"\n              render = {\n                match => < Login setUser = {\n                  this.setTheUser\n                } {\n                  ...match\n                }\n                />} / >\n                <\n                Route path = \"/profile\"\n                render = {\n                  () =>\n                  this.state.loggedInUser ? < Profile loggedInUser = {\n                    this.state.loggedInUser\n                  }\n                  /> : <Redirect to=\"/\n                  \" />\n                }\n                /> <\n                /Switch>\n\n                <\n                />\n\n              )\n            }\n          }\n\n          export default App;\n"]},"metadata":{},"sourceType":"module"}