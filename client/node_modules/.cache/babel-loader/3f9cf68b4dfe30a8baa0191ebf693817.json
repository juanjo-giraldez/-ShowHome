{"ast":null,"code":"var _jsxFileName = \"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/zone/Creator.js\";\nimport React from \"react\";\nimport EventService from \"../../service/Events.service\";\nimport { Container, Row, Button, Modal, Col } from \"react-bootstrap\";\nimport EventCard from \"../events/Events-card\";\nimport EventSelect from \"../events/Events-card-mySelect\";\nimport EventForm from \"../events/Events-form\";\n\nclass CreatorProfile extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => this.updateEventsList();\n\n    this.updateEventsList = () => {\n      this._EventService.getAllEvents().then(allEventsFromDB => {\n        let eventlist = allEventsFromDB.data.filter(event => this.state.loggedInUser === event.creator);\n        this.setState({\n          events: eventlist\n        });\n      }).catch(err => console.log(\"Error\", err));\n\n      let idAll = this.props.loggedInUser && this.props.loggedInUser._id;\n\n      this._EventService.selectTheEvent(idAll).then(allEventsFromDB => {\n        this.setState({\n          eventsSelect: allEventsFromDB.data\n        });\n      }).catch(err => console.log(\"Error\", err));\n    };\n\n    this.deleteEvent = id => {\n      this._EventService.deleteEvent(id).then(this.updateEventsList);\n    };\n\n    this.deleteSelect = id => {\n      console.log(\"soy el delete\");\n      let idUser = this.props.loggedInUser._id;\n\n      this._EventService.getOut(id, idUser).then(this.updateEventsList);\n    };\n\n    this.handleShow = () => this.setState({\n      showModalWindow: true\n    });\n\n    this.handleClose = () => this.setState({\n      showModalWindow: false\n    });\n\n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser._id,\n      events: [],\n      eventsSelect: [],\n      showModalWindow: false\n    };\n  }\n\n  render() {\n    console.log(this.props.l);\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \" text-center\",\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \" Usuario: \", this.props.loggedInUser.username)), React.createElement(Col, {\n      md: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.loggedInUser.imgUrl,\n      alt: \"Foto usuario\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \" Mis Eventos \"), React.createElement(Button, {\n      variant: \"dark\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \" \", \"A\\xF1adir evento\", \" \"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.state.events.map(event => React.createElement(EventCard, Object.assign({\n      key: event._id\n    }, event, {\n      updateEventsList: this.updateEventsList,\n      deleteEvent: this.deleteEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \" Mis planes seleccionados \"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.state.eventsSelect.map(event => React.createElement(EventSelect, Object.assign({\n      key: event._id\n    }, event, {\n      updateEventsList: this.updateEventsList,\n      deleteSelect: this.deleteSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }))))), React.createElement(\"article\", {\n      className: \"event-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      show: this.state.showModalWindow,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \" A\\xF1adir nuevo evento \"), \" \"), \" \", React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(EventForm, {\n      closeModalWindow: this.handleClose,\n      updateEventsList: this.updateEventsList,\n      loggedInUser: this.state.loggedInUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), \" \"), \" \")));\n  }\n\n}\n\nexport default CreatorProfile;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/zone/Creator.js"],"names":["React","EventService","Container","Row","Button","Modal","Col","EventCard","EventSelect","EventForm","CreatorProfile","Component","constructor","props","componentDidMount","updateEventsList","_EventService","getAllEvents","then","allEventsFromDB","eventlist","data","filter","event","state","loggedInUser","creator","setState","events","catch","err","console","log","idAll","_id","selectTheEvent","eventsSelect","deleteEvent","id","deleteSelect","idUser","getOut","handleShow","showModalWindow","handleClose","render","l","username","imgUrl","map"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport EventService from \"../../service/Events.service\";\n\nimport { Container, Row, Button, Modal , Col} from \"react-bootstrap\";\n\nimport EventCard from \"../events/Events-card\";\n\nimport EventSelect from \"../events/Events-card-mySelect\";\nimport EventForm from \"../events/Events-form\";\n\n\nclass CreatorProfile extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n   \n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser._id,\n      events: [],\n      eventsSelect: [], \n      \n      showModalWindow: false\n      \n    };\n    \n    \n  }\n\n  componentDidMount = () => this.updateEventsList();\n  \n  updateEventsList = () => {\n    \n    this._EventService\n      .getAllEvents()\n    \n      .then(allEventsFromDB => {\n        let eventlist = allEventsFromDB.data.filter(\n          event => this.state.loggedInUser === event.creator\n          );\n          this.setState({\n          events: eventlist\n        });\n      })\n      \n      .catch(err => console.log(\"Error\", err));\n\n    let idAll = this.props.loggedInUser && this.props.loggedInUser._id\n    \n    this._EventService\n      .selectTheEvent(idAll)\n      .then(allEventsFromDB => {\n        \n       \n        this.setState({\n          eventsSelect: allEventsFromDB.data\n        });\n\n      })\n\n      .catch(err => console.log(\"Error\", err));\n      };\n\n\n      deleteEvent = id => {\n        this._EventService\n          .deleteEvent(id)\n          .then(this.updateEventsList)\n      }\n\n      deleteSelect = (id) => {\n        console.log(\"soy el delete\")\n  \n        let idUser = this.props.loggedInUser._id\n        this._EventService\n        .getOut(id, idUser)\n        .then(this.updateEventsList)\n  }\n    \n      handleShow = () =>\n        this.setState({\n          showModalWindow: true\n        });\n      handleClose = () =>\n        this.setState({\n          showModalWindow: false\n        });\n    \n      render() {\n        console.log(this.props.l)\n        return (\n          <section>\n            <Container>\n              <Row>\n                <Col className=\" text-center\" md={6}>\n                  <h1> Usuario: {this.props.loggedInUser.username}</h1>\n                </Col>\n                <Col md={6}>\n                  <img\n                    src={this.props.loggedInUser.imgUrl}\n                    alt={\"Foto usuario\"}\n                  />\n                </Col>\n              </Row>\n              <hr></hr>\n              <h1> Mis Eventos </h1>\n\n              <Button variant=\"dark\" onClick={this.handleShow}>\n                {\" \"}\n                Añadir evento{\" \"}\n              </Button>\n              <Row>\n                {this.state.events.map(event => (\n                  <EventCard\n                    key={event._id}\n                    {...event}\n                    updateEventsList={this.updateEventsList}\n                    deleteEvent={this.deleteEvent}\n                  />\n                ))}\n              </Row>\n              <hr></hr>\n              <h2> Mis planes seleccionados </h2>\n              <Row>\n                {this.state.eventsSelect.map(event => (\n                  <EventSelect\n                    key={event._id}\n                    {...event}\n                    updateEventsList={this.updateEventsList}\n                    deleteSelect={this.deleteSelect}\n                  />\n                ))}\n              </Row>\n            </Container>\n\n            <article className=\"event-card\">\n              <Modal\n                show={this.state.showModalWindow}\n                onHide={this.handleClose}\n              >\n                <Modal.Header closeButton>\n                  <Modal.Title> Añadir nuevo evento </Modal.Title>{\" \"}\n                </Modal.Header>{\" \"}\n                <Modal.Body>\n                  <EventForm\n                    closeModalWindow={this.handleClose}\n                    updateEventsList={this.updateEventsList}\n                    loggedInUser={this.state.loggedInUser}\n                  />{\" \"}\n                </Modal.Body>{\" \"}\n              </Modal>\n            </article>\n          </section>\n        );\n      }\n    }\n    \n    export default CreatorProfile;\n\n  \n\n\n\n"]},"metadata":{},"sourceType":"module"}