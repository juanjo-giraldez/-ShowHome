{"ast":null,"code":"var _jsxFileName = \"/Users/usuario/Desktop/Ironhack/week7/Final-Proyect/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Service from \"./service/Auth.service\";\nimport Index from \"./components/pages/Index\";\nimport Profile from \"./components/pages/Profile\";\nimport Creator from \"./components/zone/Creator\";\nimport Host from \"./components/zone/Host\";\nimport Explorer from \"./components/zone/Explorer\";\nimport Signup from \"./components/auth/Signup\";\nimport Login from \"./components/auth/Login\";\nimport Navbar from \"./components/ui/Navbar\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.setTheUser = user => {\n      this.setState({\n        loggedInUser: user\n      });\n      console.log(\"El método 'setTheUser' de App.js se ha invocado, pasando al estado 'loggedInUser:\", this.state.loggedInUser);\n    };\n\n    this.fetchUser = () => {\n      if (this.state.loggedInUser === null) {\n        this._service.loggedin().then(theLoggedInUserFromTheServer => this.setState({\n          loggedInUser: theLoggedInUserFromTheServer.data\n        })).catch(err => {\n          this.setState({\n            loggedInUser: false\n          });\n          console.log({\n            err\n          });\n        });\n      }\n    };\n\n    this.state = {\n      loggedInUser: null\n    };\n    this._service = new Service();\n  }\n\n  render() {\n    this.fetchUser();\n    return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n      loggedInUser: this.state.loggedInUser,\n      setUser: this.setTheUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), \" \", React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      path: \"/creator\",\n      component: Creator,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      path: \"/host\",\n      component: Creator,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      path: \"/explorer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/signup\",\n      render: match => React.createElement(Signup, Object.assign({\n        setUser: this.setTheUser\n      }, match, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: match => React.createElement(Login, Object.assign({\n        setUser: this.setTheUser\n      }, match, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile\",\n      render: () => this.state.loggedInUser ? React.createElement(Profile, {\n        loggedInUser: this.state.loggedInUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }) : React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), \" \"), \" \");\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/Final-Proyect/client/src/App.js"],"names":["React","Component","Switch","Route","Redirect","Service","Index","Profile","Creator","Host","Explorer","Signup","Login","Navbar","App","constructor","setTheUser","user","setState","loggedInUser","console","log","state","fetchUser","_service","loggedin","then","theLoggedInUserFromTheServer","data","catch","err","render","match"],"mappings":"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","sourcesContent":["import React, {\n  Component\n} from 'react'\nimport {\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport Service from \"./service/Auth.service\";\nimport Index from \"./components/pages/Index\";\nimport Profile from \"./components/pages/Profile\";\nimport Creator from \"./components/zone/Creator\";\nimport Host from \"./components/zone/Host\";\nimport Explorer from \"./components/zone/Explorer\";\nimport Signup from \"./components/auth/Signup\";\nimport Login from \"./components/auth/Login\"\nimport Navbar from \"./components/ui/Navbar\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedInUser: null\n    };\n    this._service = new Service();\n  }\n\n  setTheUser = user => {\n    this.setState({\n      loggedInUser: user\n    });\n    console.log(\n      \"El método 'setTheUser' de App.js se ha invocado, pasando al estado 'loggedInUser:\",\n      this.state.loggedInUser\n    );\n  };\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this._service\n        .loggedin()\n        .then(theLoggedInUserFromTheServer =>\n          this.setState({\n            loggedInUser: theLoggedInUserFromTheServer.data\n          })\n        )\n        .catch(err => {\n          this.setState({\n            loggedInUser: false\n          });\n          console.log({\n            err\n          });\n        });\n    }\n  };\n\n  render() {\n      this.fetchUser();\n\n      return ( <\n        >\n        <\n        Navbar loggedInUser = {\n          this.state.loggedInUser\n        }\n        setUser = {\n          this.setTheUser\n        }\n        /> <\n        Switch >\n        <\n        Route exact path = \"/\"\n        component = {\n          Index\n        }\n        /> <\n        Route path = \"/creator\"\n        component = {\n          Creator\n        }\n        /> <\n        Route path = \"/host\"\n        component = {\n          Creator\n        }\n        /> <\n        Route path = \"/explorer\" / >\n        <\n        Route path = \"/signup\"\n        render = {\n          match => < Signup setUser = {\n            this.setTheUser\n          } {\n            ...match\n          }\n          />} /\n          >\n          <\n          Route\n          path = \"/login\"\n          render = {\n            match => < Login setUser = {\n              this.setTheUser\n            } {\n              ...match\n            }\n            />} /\n            >\n            <\n            Route\n            path = \"/profile\"\n            render = {\n              () =>\n              this.state.loggedInUser ? ( <\n                Profile loggedInUser = {\n                  this.state.loggedInUser\n                }\n                />\n              ) : ( <\n                Redirect to = \"/\" / >\n              )\n            }\n            /> <\n            /Switch> <\n            />\n          )\n        }\n\n\n      }\n\n      export default App;"]},"metadata":{},"sourceType":"module"}