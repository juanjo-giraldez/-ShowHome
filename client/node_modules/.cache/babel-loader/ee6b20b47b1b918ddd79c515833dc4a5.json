{"ast":null,"code":"import _classCallCheck from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import SpaceService from'../../service/Spaces.service';import{Container,Row,Button,Modal}from'react-bootstrap';import SpaceCard from'../spaces/Space-card';import SpaceForm from'../spaces/Spaces-form';var CreatorProfile=/*#__PURE__*/function(_React$Component){_inherits(CreatorProfile,_React$Component);// el hijo no puede traer nada del padre sin el props\nfunction CreatorProfile(props){var _this;_classCallCheck(this,CreatorProfile);_this=_possibleConstructorReturn(this,_getPrototypeOf(CreatorProfile).call(this,props));_this.componentDidMount=function(){return _this.updateSpacesList();};_this.updateSpacesList=function(){_this._SpaceService.getAllSpaces().then(function(allSpaceFromDB){var spacelist=allSpaceFromDB.data.filter(function(space){return _this.state.loggedInUser===space.host;});_this.setState({spaces:spacelist});}).catch(function(err){return console.log(\"Error\",err);});};_this.handleShow=function(){return _this.setState({showModalWindow:true});};_this.handleClose=function(){return _this.setState({showModalWindow:false});};_this._SpaceService=new SpaceService();_this.state={loggedInUser:props.loggedInUser._id,spaces:[],showModalWindow:false};return _this;}_createClass(CreatorProfile,[{key:\"render\",value:function render(){return React.createElement(\"section\",null,React.createElement(Container,null,React.createElement(\"h1\",null,\"Mis Espacios\"),React.createElement(Button,{variant:\"dark\",onClick:this.handleShow},\"A\\xF1adir un espacio\"),React.createElement(Row,null,this.state.spaces.map(function(space){return React.createElement(SpaceCard,Object.assign({key:space._id},space));}))),React.createElement(Modal,{show:this.state.showModalWindow,onHide:this.handleClose},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null,\"A\\xF1adir nuevo evento\")),React.createElement(Modal.Body,null,React.createElement(SpaceForm,{closeModalWindow:this.handleClose,updateSpacesList:this.updateSpacesList,loggedInUser:this.state.loggedInUser}))));}}]);return CreatorProfile;}(React.Component);export default CreatorProfile;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/zone/Host.js"],"names":["React","SpaceService","Container","Row","Button","Modal","SpaceCard","SpaceForm","CreatorProfile","props","componentDidMount","updateSpacesList","_SpaceService","getAllSpaces","then","allSpaceFromDB","spacelist","data","filter","space","state","loggedInUser","host","setState","spaces","catch","err","console","log","handleShow","showModalWindow","handleClose","_id","map","Component"],"mappings":"2rBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CAEA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,MAAzB,CAAiCC,KAAjC,KAA8C,iBAA9C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,sBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,C,GAGMC,CAAAA,c,oFACE;AACA,wBAAYC,KAAZ,CAAmB,gDACX,gFAAMA,KAAN,GADW,MAY3BC,iBAZ2B,CAYP,iBAAM,OAAKC,gBAAL,EAAN,EAZO,OAc3BA,gBAd2B,CAcR,UAAM,CACrB,MAAKC,aAAL,CAAmBC,YAAnB,GACKC,IADL,CACU,SAAAC,cAAc,CAAI,CACpB,GAAIC,CAAAA,SAAS,CAAGD,cAAc,CAACE,IAAf,CAAoBC,MAApB,CAA2B,SAAAC,KAAK,QAAI,OAAKC,KAAL,CAAWC,YAAX,GAA4BF,KAAK,CAACG,IAAtC,EAAhC,CAAhB,CACA,MAAKC,QAAL,CAAc,CAAEC,MAAM,CAAER,SAAV,CAAd,EAAsC,CAH9C,EAISS,KAJT,CAIe,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,CAAJ,EAJlB,EAKH,CApB0B,OAsB3BG,UAtB2B,CAsBd,iBAAM,OAAKN,QAAL,CAAc,CAAEO,eAAe,CAAE,IAAnB,CAAd,CAAN,EAtBc,OAuB3BC,WAvB2B,CAuBb,iBAAM,OAAKR,QAAL,CAAc,CAAEO,eAAe,CAAE,KAAnB,CAAd,CAAN,EAvBa,CAEf,MAAKlB,aAAL,CAAqB,GAAIX,CAAAA,YAAJ,EAArB,CACI,MAAKmB,KAAL,CAAa,CACTC,YAAY,CAAEZ,KAAK,CAACY,YAAN,CAAmBW,GADxB,CAETR,MAAM,CAAE,EAFC,CAGTM,eAAe,CAAE,KAHR,CAAb,CAHW,aAS1B,C,kEAgBY,CACL,MAGI,oCAEI,oBAAC,SAAD,MAEI,6CAFJ,CAII,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAE,KAAKD,UAArC,yBAJJ,CAMI,oBAAC,GAAD,MACK,KAAKT,KAAL,CAAWI,MAAX,CAAkBS,GAAlB,CAAsB,SAAAd,KAAK,QAAI,qBAAC,SAAD,gBAAW,GAAG,CAAEA,KAAK,CAACa,GAAtB,EAA+Bb,KAA/B,EAAJ,EAA3B,CADL,CANJ,CAFJ,CAcI,oBAAC,KAAD,EAAO,IAAI,CAAE,KAAKC,KAAL,CAAWU,eAAxB,CAAyC,MAAM,CAAE,KAAKC,WAAtD,EACI,oBAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,EACI,oBAAC,KAAD,CAAO,KAAP,+BADJ,CADJ,CAII,oBAAC,KAAD,CAAO,IAAP,MACI,oBAAC,SAAD,EAAW,gBAAgB,CAAE,KAAKA,WAAlC,CAA+C,gBAAgB,CAAE,KAAKpB,gBAAtE,CAAwF,YAAY,CAAE,KAAKS,KAAL,CAAWC,YAAjH,EADJ,CAJJ,CAdJ,CAHJ,CA6BH,C,4BAzDwBrB,KAAK,CAACkC,S,EA6DnC,cAAe1B,CAAAA,cAAf","sourcesContent":["import React from 'react'\nimport SpaceService from '../../service/Spaces.service'\n\nimport { Container, Row, Button, Modal } from 'react-bootstrap'\n\nimport SpaceCard from '../spaces/Space-card'\nimport SpaceForm from '../spaces/Spaces-form'\n\n\nclass CreatorProfile extends React.Component {\n        // el hijo no puede traer nada del padre sin el props\n        constructor(props) {\n                super(props)\n            this._SpaceService = new SpaceService()\n                this.state = {\n                    loggedInUser: props.loggedInUser._id,\n                    spaces: [],\n                    showModalWindow: false,\n                }\n                \n}\n\n\ncomponentDidMount = () => this.updateSpacesList()\n\nupdateSpacesList = () => {\n    this._SpaceService.getAllSpaces()\n        .then(allSpaceFromDB => {\n            let spacelist = allSpaceFromDB.data.filter(space => this.state.loggedInUser === space.host)\n            this.setState({ spaces: spacelist }) })\n            .catch(err => console.log(\"Error\", err))\n}\n\nhandleShow = () => this.setState({ showModalWindow: true })\nhandleClose = () => this.setState({ showModalWindow: false })\n\n    render() {\n        return (\n\n\n            <section>\n\n                <Container>\n\n                    <h1>Mis Espacios</h1>\n\n                    <Button variant=\"dark\" onClick={this.handleShow}>Añadir un espacio</Button>\n\n                    <Row>\n                        {this.state.spaces.map(space => <SpaceCard key={space._id} {...space} />)}\n                    </Row>\n                </Container>\n\n\n                <Modal show={this.state.showModalWindow} onHide={this.handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Añadir nuevo evento</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <SpaceForm closeModalWindow={this.handleClose} updateSpacesList={this.updateSpacesList} loggedInUser={this.state.loggedInUser} />\n                    </Modal.Body>\n                </Modal>\n\n            </section>\n\n        )\n    }\n}\n\n\nexport default CreatorProfile\n"]},"metadata":{},"sourceType":"module"}