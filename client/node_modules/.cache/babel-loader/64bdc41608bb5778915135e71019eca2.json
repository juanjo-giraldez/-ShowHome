{"ast":null,"code":"var _jsxFileName = \"/Users/usuario/Desktop/Ironhack/week7/Show Home Final-Project/client/src/components/zone/Creator.js\";\nimport React from 'react';\nimport EventService from '../../service/Events.service';\nimport { Container, Row, Button, Modal } from 'react-bootstrap';\nimport EventCard from '../events/Events-card';\nimport EventForm from '../events/Events-form';\n\nclass CreatorProfile extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => this.updateEventsList();\n\n    this.updateEventsList = () => {\n      this._EventService.getAllEvents().then(allEventsFromDB => {\n        let eventlist = allEventsFromDB.data.filter(event => this.state.loggedInUser === event.creator);\n        this.setState({\n          events: eventlist\n        });\n      }).catch(err => console.log(\"Error\", err));\n    };\n\n    this.handleShow = () => this.setState({\n      showModalWindow: true\n    });\n\n    this.handleClose = () => this.setState({\n      showModalWindow: false\n    });\n\n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser._id,\n      events: [],\n      showModalWindow: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \" Mis Eventos \"), React.createElement(Button, {\n      variant: \"dark\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \" A\\xF1adir evento \"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \" \", this.state.events.map(event => React.createElement(EventCard, Object.assign({\n      key: event._id\n    }, event, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))), \" \"), \" \"), React.createElement(Modal, {\n      show: this.state.showModalWindow,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \" A\\xF1adir nuevo evento \"), \" \"), \" \", React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(EventForm, {\n      closeModalWindow: this.handleClose,\n      updateEventsList: this.updateEventsList,\n      loggedInUser: this.state.loggedInUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), \" \"), \" \"));\n  }\n\n}\n\nexport default CreatorProfile; // import React from \"react\";\n// const Creator = props =>  <h1> Bienvenid @ {props.loggedInUser.username} tu categoria es {props.loggedInUser.role} Kultural</h1>;;\n// export default Creator;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/Show Home Final-Project/client/src/components/zone/Creator.js"],"names":["React","EventService","Container","Row","Button","Modal","EventCard","EventForm","CreatorProfile","Component","constructor","props","componentDidMount","updateEventsList","_EventService","getAllEvents","then","allEventsFromDB","eventlist","data","filter","event","state","loggedInUser","creator","setState","events","catch","err","console","log","handleShow","showModalWindow","handleClose","_id","render","map"],"mappings":"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","sourcesContent":["import React from 'react'\nimport EventService from '../../service/Events.service'\n\nimport {\n    Container,\n    Row,\n    Button,\n    Modal\n} from 'react-bootstrap'\n\nimport EventCard from '../events/Events-card'\nimport EventForm from '../events/Events-form'\n\n\nclass CreatorProfile extends React.Component {\n        // el hijo no puede traer nada del padre sin el props\n        constructor(props) {\n            super(props)\n            this._EventService = new EventService()\n            this.state = {\n                loggedInUser: props.loggedInUser._id,\n                events: [],\n                showModalWindow: false,\n            }\n\n        }\n\n\n        componentDidMount = () => this.updateEventsList()\n\n        updateEventsList = () => {\n            this._EventService.getAllEvents()\n                .then(allEventsFromDB => {\n\n\n                    let eventlist = allEventsFromDB.data.filter(event => this.state.loggedInUser === event.creator)\n                    this.setState({\n                        events: eventlist\n                    })\n\n\n\n\n\n                })\n                .catch(err => console.log(\"Error\", err))\n        }\n\n        handleShow = () => this.setState({\n            showModalWindow: true\n        })\n        handleClose = () => this.setState({\n            showModalWindow: false\n        })\n\n        render() {\n                return (\n\n\n                    <\n                    section >\n\n                    <\n                    Container >\n\n                    <\n                    h1 > Mis Eventos < /h1>\n\n                    <\n                    Button variant = \"dark\"\n                    onClick = {\n                        this.handleShow\n                    } > Añadir evento < /Button>\n\n                    <\n                    Row > {\n                        this.state.events.map(event => < EventCard key = {\n                                event._id\n                            } {\n                                ...event\n                            }\n                            />)} <\n                            /Row> <\n                            /Container>\n\n\n                            <\n                            Modal show = {\n                                this.state.showModalWindow\n                            }\n                            onHide = {\n                                this.handleClose\n                            } >\n                            <\n                            Modal.Header closeButton >\n                            <\n                            Modal.Title > Añadir nuevo evento < /Modal.Title> <\n                            /Modal.Header> <\n                            Modal.Body >\n                            <\n                            EventForm closeModalWindow = {\n                                this.handleClose\n                            }\n                            updateEventsList = {\n                                this.updateEventsList\n                            }\n                            loggedInUser = {\n                                this.state.loggedInUser\n                            }\n                            /> <\n                            /Modal.Body> <\n                            /Modal>\n\n\n\n                            <\n                            /section>\n\n                        )\n                    }\n                }\n\n\n                export default CreatorProfile\n\n\n\n\n\n\n                // import React from \"react\";\n\n                // const Creator = props =>  <h1> Bienvenid @ {props.loggedInUser.username} tu categoria es {props.loggedInUser.role} Kultural</h1>;;\n\n                // export default Creator;"]},"metadata":{},"sourceType":"module"}