{"ast":null,"code":"import _defineProperty from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Button,Form,Container}from\"react-bootstrap\";import Service from\"../../service/Auth.service\";var SignupForm=/*#__PURE__*/function(_Component){_inherits(SignupForm,_Component);function SignupForm(props){var _this;_classCallCheck(this,SignupForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignupForm).call(this,props));_this.signupImage=function(e){console.log(\"entra en signupImage\");var uploadData=new FormData();uploadData.append('imgUrl',e.target.files[0]);_this._service.uploadCloudinary(uploadData).then(function(theFile){console.log(\"respuesta ok de cloudinary\",theFile);_this.setState({imgUrl:theFile.data.secure_url});}).catch(function(err){return console.log('error upload image',err);});};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password,firstName=_this$state.firstName,lastName=_this$state.lastName,role=_this$state.role,category=_this$state.category,imgUrl=_this$state.imgUrl;_this._service.signup(username,password,firstName,lastName,role,category,imgUrl).then(function(theNewUser){_this.props.setUser(theNewUser.data);_this.setState({username:\"\",password:\"\",firstName:\"\",lastName:\"\",role:\"\",category:\"\",imgUrl:\"\"});_this.props.history.push(\"/login\");// REDIRECCIONAMIENTO\nconsole.log(\"este es el nuevo user \".concat(theNewUser.data));}).catch(function(err){return console.log(err);});};_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this._service=new Service();_this.state={username:\"\",password:\"\",firstName:\"\",lastName:\"\",role:\"\",category:\"\",imgUrl:\"\"};return _this;}_createClass(SignupForm,[{key:\"render\",value:function render(){return React.createElement(Container,null,React.createElement(\"article\",{className:\"form\"},React.createElement(\"h1\",null,\"Registro\"),React.createElement(Form,{onSubmit:this.handleSubmit},React.createElement(Form.Group,null,React.createElement(Form.Control,{type:\"text\",name:\"username\",placeholder:\"Usuario\",onChange:this.handleInputChange,value:this.state.username})),React.createElement(Form.Group,null,React.createElement(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Contrase\\xF1a\",onChange:this.handleInputChange,value:this.state.password})),React.createElement(Form.Group,null,React.createElement(Form.Control,{type:\"text\",name:\"firstName\",placeholder:\"Nombre\",onChange:this.handleInputChange,value:this.state.firstName})),React.createElement(Form.Group,null,React.createElement(Form.Control,{type:\"text\",name:\"lastName\",placeholder:\"Apellidos\",onChange:this.handleInputChange,value:this.state.lastName})),React.createElement(Form.Group,null,React.createElement(Form.Control,{as:\"select\",name:\"role\",placeholder:\"Tipo de Usuario\",onChange:this.handleInputChange,selected:this.state.role},React.createElement(\"option\",{value:\"\"},\" \\xBFQu\\xE9 tipo de usuarios er\\xE9s? \"),React.createElement(\"option\",{value:\"explorer\"},\"Buscador de Planes\"),React.createElement(\"option\",{value:\"creator\"},\"Creador de planes\"))),React.createElement(Form.Group,null,React.createElement(Form.Control,{as:\"select\",name:\"category\",placeholder:\"Preferencia\",onChange:this.handleInputChange,value:this.state.category},React.createElement(\"option\",{value:\"\"},\" Selecciona una categoria \"),React.createElement(\"option\",{value:\"Cine\"},\" Cine \"),React.createElement(\"option\",{value:\"M\\xFAsica\"},\" M\\xFAsica \"),React.createElement(\"option\",{value:\"Clases\"},\" Clases \"),React.createElement(\"option\",{value:\"Encuentros\"},\" Encuentros \"),React.createElement(\"option\",{value:\"Espectaculos\"},\" Expect\\xE1culo \"))),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Subir imagen \"),React.createElement(Form.Control,{type:\"file\",name:\"imgUrl\",onChange:this.signupImage})),React.createElement(Button,{className:\"form-btn\",variant:\"dark\",type:\"submit\"},\"Registrarme\"))));}}]);return SignupForm;}(Component);export default SignupForm;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/auth/Signup.js"],"names":["React","Component","Button","Form","Container","Service","SignupForm","props","signupImage","e","console","log","uploadData","FormData","append","target","files","_service","uploadCloudinary","then","theFile","setState","imgUrl","data","secure_url","catch","err","handleSubmit","preventDefault","state","username","password","firstName","lastName","role","category","signup","theNewUser","setUser","history","push","handleInputChange","name","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, Container } from \"react-bootstrap\";\n\n\nimport Service from \"../../service/Auth.service\";\n\nclass SignupForm extends Component {\n  constructor(props) {\n    super(props);\n    this._service = new Service();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      role: \"\",\n      category: \"\",\n      imgUrl: \"\"\n    };\n  }\n\n  signupImage = e => {\n    console.log(\"entra en signupImage\")\n    const uploadData = new FormData()\n    uploadData.append('imgUrl', e.target.files[0])\n\n    this._service.uploadCloudinary(uploadData)\n    .then(theFile => {\n      console.log(\"respuesta ok de cloudinary\", theFile)\n      this.setState({imgUrl: theFile.data.secure_url})\n       })\n\n    .catch(err => console.log('error upload image', err));\n    \n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const {\n      username,\n      password,\n      firstName,\n      lastName,\n      role,\n      category,\n      imgUrl\n    } = this.state;\n    \n    this._service\n      .signup(username, password, firstName, lastName, role, category, imgUrl)\n      .then(theNewUser => {\n        this.props.setUser(theNewUser.data);\n        this.setState({\n          username: \"\",\n          password: \"\",\n          firstName: \"\",\n          lastName: \"\",\n          role: \"\",\n          category: \"\",\n          imgUrl: \"\"\n        });\n        this.props.history.push(\"/login\"); // REDIRECCIONAMIENTO\n        console.log(`este es el nuevo user ${theNewUser.data}`);\n      })\n      .catch(err => console.log(err));\n  };\n\n  handleInputChange = e => {\n    let { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <Container>\n        < article className = \"form\" >\n        <h1>Registro</h1>\n\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            {/* <Form.Label> Usuario</Form.Label> */}\n            <Form.Control\n              type=\"text\"\n              name=\"username\"\n              placeholder = \"Usuario\"\n              onChange={this.handleInputChange}\n              value={this.state.username}\n            />\n          </Form.Group>\n          <Form.Group>\n            {/* <Form.Label>Contraseña</Form.Label> */}\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              placeholder = \"Contraseña\"\n              onChange={this.handleInputChange}\n              value={this.state.password}\n            />\n          </Form.Group>\n          <Form.Group>\n            {/* <Form.Label>Nombre</Form.Label> */}\n            <Form.Control\n              type=\"text\"\n              name=\"firstName\"\n              placeholder = \"Nombre\"\n              onChange={this.handleInputChange}\n              value={this.state.firstName}\n            />\n          </Form.Group>\n          <Form.Group>\n            {/* <Form.Label>Apellidos</Form.Label> */}\n            <Form.Control\n              type=\"text\"\n              name=\"lastName\"\n              placeholder = \"Apellidos\"\n              onChange={this.handleInputChange}\n              value={this.state.lastName}\n            />\n          </Form.Group>\n          <Form.Group>\n            {/* <Form.Label>Tipo de Usuario</Form.Label> */}\n            <Form.Control\n              as=\"select\"\n              name=\"role\"\n              placeholder = \"Tipo de Usuario\"\n              onChange={this.handleInputChange}\n              selected={this.state.role}\n            >\n              < option value = \"\" > ¿Qué tipo de usuarios erés? </option>\n              <option value=\"explorer\">Buscador de Planes</option>\n              {/* <option value=\"host\">Anfitrión</option> */}\n              <option value=\"creator\">Creador de planes</option>\n            </Form.Control>\n          </Form.Group>\n\n          <Form.Group>\n            {/* <Form.Label>Preferencia</Form.Label> */}\n            <Form.Control\n              as=\"select\"\n              name=\"category\"\n              placeholder = \"Preferencia\"\n              onChange={this.handleInputChange}\n              value={this.state.category}\n            > \n              < option value = \"\" > Selecciona una categoria </option>\n              < option value = \"Cine\" > Cine </option>\n              < option value = \"Música\" > Música </option>\n              < option value = \"Clases\" > Clases </option>\n              < option value = \"Encuentros\" > Encuentros </option>\n              < option value = \"Espectaculos\" > Expectáculo </option>\n            </Form.Control>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Subir imagen </Form.Label>\n            <Form.Control\n              type=\"file\"\n              name=\"imgUrl\"\n              onChange={this.signupImage}\n            />\n          </Form.Group>\n\n          <Button  className=\"form-btn\"variant=\"dark\" type=\"submit\">\n            Registrarme\n          </Button>\n        </Form>\n        </article>\n      </Container>\n    );\n  }\n}\n\nexport default SignupForm;\n"]},"metadata":{},"sourceType":"module"}