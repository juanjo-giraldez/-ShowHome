{"ast":null,"code":"var _jsxFileName = \"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/zone/Creator.js\";\nimport React from \"react\";\nimport EventService from \"../../service/Events.service\";\nimport { Container, Row, Button, Modal, Col } from \"react-bootstrap\";\nimport EventCard from \"../events/Events-card\";\nimport EventSelect from \"../events/Events-card-mySelect\";\nimport EventForm from \"../events/Events-form\";\n\nclass CreatorProfile extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => this.updateEventsList();\n\n    this.updateEventsList = () => {\n      this._EventService.getAllEvents().then(allEventsFromDB => {\n        let eventlist = allEventsFromDB.data.filter(event => this.state.loggedInUser === event.creator);\n        this.setState({\n          events: eventlist\n        });\n      }).catch(err => console.log(\"Error\", err));\n\n      let idAll = this.props.loggedInUser && this.props.loggedInUser._id;\n\n      this._EventService.selectTheEvent(idAll).then(allEventsFromDB => {\n        this.setState({\n          eventsSelect: allEventsFromDB.data\n        });\n      }).catch(err => console.log(\"Error\", err));\n    };\n\n    this.deleteEvent = id => {\n      this._EventService.deleteEvent(id).then(this.updateEventsList);\n    };\n\n    this.deleteSelect = id => {\n      console.log(\"soy el delete\");\n      let idUser = this.props.loggedInUser._id;\n\n      this._EventService.getOut(id, idUser).then(this.updateEventsList);\n    };\n\n    this.handleShow = () => this.setState({\n      showModalWindow: true\n    });\n\n    this.handleClose = () => this.setState({\n      showModalWindow: false\n    });\n\n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser._id,\n      events: [],\n      eventsSelect: [],\n      showModalWindow: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \" Usuario: \", this.props.loggedInUser.username, \" \"), \" \"), \" \", React.createElement(Col, {\n      md: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.loggedInUser.imgUrl,\n      alt: \"Foto usuario\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), \" \"), \" \"), \" \", React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \" \"), \" \", React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \" Mis Eventos \"), React.createElement(Button, {\n      variant: \"dark\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \" \", \" \", \"A\\xF1adir evento \", \" \", \" \"), \" \", React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \" \", this.state.events.map(event => React.createElement(EventCard, Object.assign({\n      key: event._id\n    }, event, {\n      updateEventsList: this.updateEventsList,\n      deleteEvent: this.deleteEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }))), \" \"), \" \", React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \" \"), \" \", React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \" Mis planes seleccionados \"), \" \", React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \" \", this.state.eventsSelect.map(event => React.createElement(EventSelect, Object.assign({\n      key: event._id\n    }, event, {\n      updateEventsList: this.updateEventsList,\n      deleteSelect: this.deleteSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }))), \" \"), \" \"), React.createElement(\"article\", {\n      className: \"event-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      show: this.state.showModalWindow,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \" A\\xF1adir nuevo evento \"), \" \", \" \"), \" \", \" \", React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(EventForm, {\n      closeModalWindow: this.handleClose,\n      updateEventsList: this.updateEventsList,\n      loggedInUser: this.state.loggedInUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), \" \", \" \"), \" \", \" \"), \" \"), \" \");\n  }\n\n}\n\nexport default CreatorProfile;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/zone/Creator.js"],"names":["React","EventService","Container","Row","Button","Modal","Col","EventCard","EventSelect","EventForm","CreatorProfile","Component","constructor","props","componentDidMount","updateEventsList","_EventService","getAllEvents","then","allEventsFromDB","eventlist","data","filter","event","state","loggedInUser","creator","setState","events","catch","err","console","log","idAll","_id","selectTheEvent","eventsSelect","deleteEvent","id","deleteSelect","idUser","getOut","handleShow","showModalWindow","handleClose","render","username","imgUrl","map"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport EventService from \"../../service/Events.service\";\n\nimport {\n  Container,\n  Row,\n  Button,\n  Modal,\n  Col\n} from \"react-bootstrap\";\n\nimport EventCard from \"../events/Events-card\";\n\nimport EventSelect from \"../events/Events-card-mySelect\";\nimport EventForm from \"../events/Events-form\";\n\n\nclass CreatorProfile extends React.Component {\n  // el hijo no puede traer nada del padre sin el props\n  constructor(props) {\n    super(props);\n\n    this._EventService = new EventService();\n    this.state = {\n      loggedInUser: props.loggedInUser._id,\n      events: [],\n      eventsSelect: [],\n\n      showModalWindow: false\n\n    };\n\n\n  }\n\n  componentDidMount = () => this.updateEventsList();\n\n  updateEventsList = () => {\n\n    this._EventService\n      .getAllEvents()\n\n      .then(allEventsFromDB => {\n        let eventlist = allEventsFromDB.data.filter(\n          event => this.state.loggedInUser === event.creator\n        );\n        this.setState({\n          events: eventlist\n        });\n      })\n\n      .catch(err => console.log(\"Error\", err));\n\n    let idAll = this.props.loggedInUser && this.props.loggedInUser._id\n\n    this._EventService\n      .selectTheEvent(idAll)\n      .then(allEventsFromDB => {\n\n\n        this.setState({\n          eventsSelect: allEventsFromDB.data\n        });\n\n      })\n\n      .catch(err => console.log(\"Error\", err));\n  };\n\n\n  deleteEvent = id => {\n    this._EventService\n      .deleteEvent(id)\n      .then(this.updateEventsList)\n  }\n\n  deleteSelect = (id) => {\n    console.log(\"soy el delete\")\n\n    let idUser = this.props.loggedInUser._id\n    this._EventService\n      .getOut(id, idUser)\n      .then(this.updateEventsList)\n  }\n\n  handleShow = () =>\n    this.setState({\n      showModalWindow: true\n    });\n  handleClose = () =>\n    this.setState({\n      showModalWindow: false\n    });\n\n  render() {\n\n    return ( <\n      section >\n      <\n      Container >\n      <\n      Row >\n      <\n      Col md = {\n        12\n      } >\n      <\n      h1 > Usuario: {\n        this.props.loggedInUser.username\n      } < /h1> <\n      /Col> <\n      Col md = {\n        7\n      } >\n      <\n      img src = {\n        this.props.loggedInUser.imgUrl\n      }\n      alt = {\n        \"Foto usuario\"\n      }\n      /> <\n      /Col> <\n      /Row> <\n      hr > < /hr> <\n      h1 > Mis Eventos < /h1>\n\n      <\n      Button variant = \"dark\"\n      onClick = {\n        this.handleShow\n      } > {\n        \" \"\n      }\n      Añadir evento {\n        \" \"\n      } <\n      /Button> <\n      Row > {\n        this.state.events.map(event => ( <\n          EventCard key = {\n            event._id\n          } {\n            ...event\n          }\n          updateEventsList = {\n            this.updateEventsList\n          }\n          deleteEvent = {\n            this.deleteEvent\n          }\n          />\n        ))\n      } <\n      /Row> <\n      hr > < /hr> <\n      h2 > Mis planes seleccionados < /h2> <\n      Row > {\n        this.state.eventsSelect.map(event => ( <\n          EventSelect key = {\n            event._id\n          } {\n            ...event\n          }\n          updateEventsList = {\n            this.updateEventsList\n          }\n          deleteSelect = {\n            this.deleteSelect\n          }\n          />\n        ))\n      } <\n      /Row> <\n      /Container>\n\n      <\n      article className = \"event-card\" >\n      <\n      Modal show = {\n        this.state.showModalWindow\n      }\n      onHide = {\n        this.handleClose\n      } >\n      <\n      Modal.Header closeButton >\n      <\n      Modal.Title > Añadir nuevo evento < /Modal.Title>{\" \"} <\n      /Modal.Header>{\" \"} <\n      Modal.Body >\n      <\n      EventForm closeModalWindow = {\n        this.handleClose\n      }\n      updateEventsList = {\n        this.updateEventsList\n      }\n      loggedInUser = {\n        this.state.loggedInUser\n      }\n      />{\" \"} <\n      /Modal.Body>{\" \"} <\n      /Modal> <\n      /article> <\n      /section>\n    );\n  }\n}\n\nexport default CreatorProfile;"]},"metadata":{},"sourceType":"module"}