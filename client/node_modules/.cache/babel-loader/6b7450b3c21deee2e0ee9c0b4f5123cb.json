{"ast":null,"code":"import _classCallCheck from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import EventService from\"../../service/Events.service\";import{Container,Row}from\"react-bootstrap\";import EventsSearch from\"../events/Events-search-card\";import{Link}from\"react-router-dom\";var AllEvents=/*#__PURE__*/function(_Component){_inherits(AllEvents,_Component);function AllEvents(){var _this;_classCallCheck(this,AllEvents);_this=_possibleConstructorReturn(this,_getPrototypeOf(AllEvents).call(this));_this.componentDidMount=function(){return _this.updateEventsList();};_this.updateEventsList=function(){_this._service.getAllEvents().then(function(allEventsFromDB){console.log(\"soy yo\");_this.setState({events:allEventsFromDB.data});}).catch(function(err){return console.log(\"Error\",err);});};_this.handleSearchChange=function(e){return _this.setState({search:e.target.value});};_this._service=new EventService();_this.state={events:[],search:\"\"};return _this;}_createClass(AllEvents,[{key:\"render\",value:function render(){var _this2=this;var filterItems=function filterItems(){var searchs=_this2.state.search;return _this2.state.events.filter(function(el){return el.nameEvent.toLowerCase().indexOf(searchs.toLowerCase())>-1||el.category.toLowerCase().indexOf(searchs.toLowerCase())>-1||el.town.toLowerCase().indexOf(searchs.toLowerCase())>-1;});};return React.createElement(\"div\",null,React.createElement(\"section\",null,React.createElement(Container,null,React.createElement(\"h1\",{className:\"text-center\"},\" Busqueda de eventos \"),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"text-center\"},React.createElement(\"label\",{className:\"label-search\",htmlFor:\"search\"},\"Buscador\"),React.createElement(\"input\",{className:\"input-search\",name:\"search\",type:\"text\",id:\"search\",value:this.state.search,onChange:this.handleSearchChange})),React.createElement(\"br\",null),console.log(this.state.events),React.createElement(Row,null,filterItems().map(function(events){return React.createElement(EventsSearch,Object.assign({key:events._id},events));})))));}}]);return AllEvents;}(Component);export default AllEvents;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/pages/Search.js"],"names":["React","Component","EventService","Container","Row","EventsSearch","Link","AllEvents","componentDidMount","updateEventsList","_service","getAllEvents","then","allEventsFromDB","console","log","setState","events","data","catch","err","handleSearchChange","e","search","target","value","state","filterItems","searchs","filter","el","nameEvent","toLowerCase","indexOf","category","town","map","_id"],"mappings":"2rBAEA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,OAASC,SAAT,CAAoBC,GAApB,KAA+B,iBAA/B,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CAEA,OAASC,IAAT,KAAqB,kBAArB,C,GAEMC,CAAAA,S,mEACF,oBAAc,2CACV,6EADU,MASdC,iBATc,CASM,iBAAM,OAAKC,gBAAL,EAAN,EATN,OAWdA,gBAXc,CAWK,UAAM,CACrB,MAAKC,QAAL,CACKC,YADL,GAEKC,IAFL,CAEU,SAAAC,eAAe,CAAI,CACrBC,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA,MAAKC,QAAL,CAAc,CAAEC,MAAM,CAAEJ,eAAe,CAACK,IAA1B,CAAd,EACH,CALL,EAMKC,KANL,CAMW,SAAAC,GAAG,QAAIN,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBK,GAArB,CAAJ,EANd,EAOH,CAnBa,OAoBdC,kBApBc,CAoBO,SAAAC,CAAC,QAAI,OAAKN,QAAL,CAAc,CAAEO,MAAM,CAAED,CAAC,CAACE,MAAF,CAASC,KAAnB,CAAd,CAAJ,EApBR,CAEV,MAAKf,QAAL,CAAgB,GAAIR,CAAAA,YAAJ,EAAhB,CACA,MAAKwB,KAAL,CAAa,CACTT,MAAM,CAAE,EADC,CAETM,MAAM,CAAE,EAFC,CAAb,CAHU,aAOb,C,6DAcQ,iBACL,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAIC,CAAAA,OAAO,CAAG,MAAI,CAACF,KAAL,CAAWH,MAAzB,CACA,MAAO,CAAA,MAAI,CAACG,KAAL,CAAWT,MAAX,CAAkBY,MAAlB,CACH,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACC,SAAH,CAAaC,WAAb,GAA2BC,OAA3B,CAAmCL,OAAO,CAACI,WAAR,EAAnC,EAA4D,CAAC,CAA7D,EACNF,EAAE,CAACI,QAAH,CAAYF,WAAZ,GAA0BC,OAA1B,CAAkCL,OAAO,CAACI,WAAR,EAAlC,EAA2D,CAAC,CADtD,EAENF,EAAE,CAACK,IAAH,CAAQH,WAAR,GAAsBC,OAAtB,CAA8BL,OAAO,CAACI,WAAR,EAA9B,EAAuD,CAAC,CAFtD,EADC,CAAP,CAMH,CARD,CASA,MACE,gCACE,mCACE,oBAAC,SAAD,MACE,0BAAI,SAAS,CAAC,aAAd,0BADF,CAEE,8BAFF,CAGE,2BAAM,SAAS,CAAG,aAAlB,EACE,6BAAO,SAAS,CAAC,cAAjB,CAAgC,OAAO,CAAC,QAAxC,aADF,CAIE,6BACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,QAFP,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,QAJL,CAKE,KAAK,CAAE,KAAKN,KAAL,CAAWH,MALpB,CAME,QAAQ,CAAE,KAAKF,kBANjB,EAJF,CAHF,CAgBE,8BAhBF,CAiBGP,OAAO,CAACC,GAAR,CAAY,KAAKW,KAAL,CAAWT,MAAvB,CAjBH,CAkBE,oBAAC,GAAD,MACGU,WAAW,GAAGS,GAAd,CAAkB,SAAAnB,MAAM,QACvB,qBAAC,YAAD,gBAAc,GAAG,CAAEA,MAAM,CAACoB,GAA1B,EAAmCpB,MAAnC,EADuB,EAAxB,CADH,CAlBF,CADF,CADF,CADF,CA8BH,C,uBA9DmBhB,S,EAiExB,cAAeM,CAAAA,SAAf","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport EventService from \"../../service/Events.service\";\nimport { Container, Row } from \"react-bootstrap\";\nimport EventsSearch from \"../events/Events-search-card\"\n\nimport { Link } from \"react-router-dom\";\n\nclass AllEvents extends Component {\n    constructor() {\n        super();\n        this._service = new EventService();\n        this.state = {\n            events: [],\n            search: \"\"\n        };\n    }\n\n    componentDidMount = () => this.updateEventsList();\n\n    updateEventsList = () => {\n        this._service\n            .getAllEvents()\n            .then(allEventsFromDB => {\n                console.log(\"soy yo\");\n                this.setState({ events: allEventsFromDB.data });\n            })\n            .catch(err => console.log(\"Error\", err));\n    };\n    handleSearchChange = e => this.setState({ search: e.target.value });\n    render() {\n        const filterItems = () => {\n            let searchs = this.state.search;\n            return this.state.events.filter(\n                el => el.nameEvent.toLowerCase().indexOf(searchs.toLowerCase()) > -1 ||\n                el.category.toLowerCase().indexOf(searchs.toLowerCase()) > -1 ||\n                el.town.toLowerCase().indexOf(searchs.toLowerCase()) > -1 \n\n            );\n        };\n        return (\n          <div>\n            <section>\n              <Container>\n                <h1 className=\"text-center\" > Busqueda de eventos </h1>\n                <br></br>\n                < div className = \"text-center\" >\n                  <label className=\"label-search\" htmlFor=\"search\">\n                    Buscador\n                  </label>\n                  <input\n                    className=\"input-search\"\n                    name=\"search\"\n                    type=\"text\"\n                    id=\"search\"\n                    value={this.state.search}\n                    onChange={this.handleSearchChange}\n                  />\n                </div>\n                <br></br>\n                {console.log(this.state.events)}\n                <Row>\n                  {filterItems().map(events => (\n                    <EventsSearch key={events._id} {...events} />\n                  ))}\n                </Row>\n              </Container>\n            </section>\n          </div>\n        );\n    }\n}\n\nexport default AllEvents;\n\n"]},"metadata":{},"sourceType":"module"}