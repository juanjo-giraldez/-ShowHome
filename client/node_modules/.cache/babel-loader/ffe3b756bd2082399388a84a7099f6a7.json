{"ast":null,"code":"import _classCallCheck from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import SpaceService from'../../service/Spaces.service';import{Container,Row,Button,Modal}from'react-bootstrap';import SpaceCard from'./Space-card';import SpaceForm from'./Spaces-form';var SpaceList=/*#__PURE__*/function(_React$Component){_inherits(SpaceList,_React$Component);function SpaceList(props){var _this;_classCallCheck(this,SpaceList);_this=_possibleConstructorReturn(this,_getPrototypeOf(SpaceList).call(this,props));_this.componentDidMount=function(){return _this.updateSpacesList();};_this.updateSpacesList=function(){_this._SpaceService.getAllSpaces().then(function(allSpacesFromDB){return _this.setState({spaces:allSpacesFromDB.data});}).catch(function(err){return console.log(\"Error\",err);});};_this.handleShow=function(){return _this.setState({showModalWindow:true});};_this.handleClose=function(){return _this.setState({showModalWindow:false});};_this._SpaceService=new SpaceService();_this.state={loggedInUser:props.loggedInUser,spaces:[],showModalWindow:false};return _this;}_createClass(SpaceList,[{key:\"render\",value:function render(){return React.createElement(\"section\",null,React.createElement(Container,null,React.createElement(\"h1\",null,\"Mis Eventos\"),React.createElement(Button,{variant:\"dark\",onClick:this.handleShow},\"A\\xF1adir evento\"),React.createElement(Row,null,this.state.spaces.map(function(event){return React.createElement(SpaceCard,Object.assign({key:event._id},event));}),\" \",this.state.loggedInUser)),React.createElement(Modal,{show:this.state.showModalWindow,onHide:this.handleClose},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null,\"A\\xF1adir nuevo evento\")),React.createElement(Modal.Body,null,React.createElement(SpaceForm,{closeModalWindow:this.handleClose,updateSpacesList:this.updateSpacesList}))));}}]);return SpaceList;}(React.Component);export default SpaceList;","map":{"version":3,"sources":["/Users/usuario/Desktop/Ironhack/week7/2ShowHome/client/src/components/spaces/Spaces-list.js"],"names":["React","SpaceService","Container","Row","Button","Modal","SpaceCard","SpaceForm","SpaceList","props","componentDidMount","updateSpacesList","_SpaceService","getAllSpaces","then","allSpacesFromDB","setState","spaces","data","catch","err","console","log","handleShow","showModalWindow","handleClose","state","loggedInUser","map","event","_id","Component"],"mappings":"2rBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CAEA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,MAAzB,CAAiCC,KAAjC,KAA8C,iBAA9C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,eAAtB,C,GAEMC,CAAAA,S,+EAEF,mBAAYC,KAAZ,CAAmB,2CACf,2EAAMA,KAAN,GADe,MASnBC,iBATmB,CASC,iBAAM,OAAKC,gBAAL,EAAN,EATD,OAWnBA,gBAXmB,CAWA,UAAM,CACrB,MAAKC,aAAL,CAAmBC,YAAnB,GACKC,IADL,CACU,SAAAC,eAAe,QAAI,OAAKC,QAAL,CAAc,CAAEC,MAAM,CAAEF,eAAe,CAACG,IAA1B,CAAd,CAAJ,EADzB,EAEKC,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,CAAJ,EAFd,EAGH,CAfkB,OAiBnBG,UAjBmB,CAiBN,iBAAM,OAAKP,QAAL,CAAc,CAAEQ,eAAe,CAAE,IAAnB,CAAd,CAAN,EAjBM,OAkBnBC,WAlBmB,CAkBL,iBAAM,OAAKT,QAAL,CAAc,CAAEQ,eAAe,CAAE,KAAnB,CAAd,CAAN,EAlBK,CAEf,MAAKZ,aAAL,CAAqB,GAAIX,CAAAA,YAAJ,EAArB,CACA,MAAKyB,KAAL,CAAa,CACTC,YAAY,CAAElB,KAAK,CAACkB,YADX,CAETV,MAAM,CAAE,EAFC,CAGTO,eAAe,CAAE,KAHR,CAAb,CAHe,aAQlB,C,6DAYQ,CACL,MAGI,oCAEI,oBAAC,SAAD,MAEI,4CAFJ,CAII,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAE,KAAKD,UAArC,qBAJJ,CAMI,oBAAC,GAAD,MACK,KAAKG,KAAL,CAAWT,MAAX,CAAkBW,GAAlB,CAAsB,SAAAC,KAAK,QAAI,qBAAC,SAAD,gBAAW,GAAG,CAAEA,KAAK,CAACC,GAAtB,EAA+BD,KAA/B,EAAJ,EAA3B,CADL,KACgF,KAAKH,KAAL,CAAWC,YAD3F,CANJ,CAFJ,CAcI,oBAAC,KAAD,EAAO,IAAI,CAAE,KAAKD,KAAL,CAAWF,eAAxB,CAAyC,MAAM,CAAE,KAAKC,WAAtD,EACI,oBAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,EACI,oBAAC,KAAD,CAAO,KAAP,+BADJ,CADJ,CAII,oBAAC,KAAD,CAAO,IAAP,MACI,oBAAC,SAAD,EAAW,gBAAgB,CAAE,KAAKA,WAAlC,CAA+C,gBAAgB,CAAE,KAAKd,gBAAtE,EADJ,CAJJ,CAdJ,CAHJ,CA6BH,C,uBApDmBX,KAAK,CAAC+B,S,EAwD9B,cAAevB,CAAAA,SAAf","sourcesContent":["import React from 'react'\nimport SpaceService from '../../service/Spaces.service'\n\nimport { Container, Row, Button, Modal } from 'react-bootstrap'\n\nimport SpaceCard from './Space-card'\nimport SpaceForm from './Spaces-form'\n\nclass SpaceList extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this._SpaceService = new SpaceService()\n        this.state = {\n            loggedInUser: props.loggedInUser,\n            spaces: [],\n            showModalWindow: false\n        }\n    }\n    componentDidMount = () => this.updateSpacesList()\n\n    updateSpacesList = () => {\n        this._SpaceService.getAllSpaces()\n            .then(allSpacesFromDB => this.setState({ spaces: allSpacesFromDB.data }))\n            .catch(err => console.log(\"Error\", err))\n    }\n\n    handleShow = () => this.setState({ showModalWindow: true })\n    handleClose = () => this.setState({ showModalWindow: false })\n\n    render() {\n        return (\n\n\n            <section>\n\n                <Container>\n\n                    <h1>Mis Eventos</h1>\n\n                    <Button variant=\"dark\" onClick={this.handleShow}>Añadir evento</Button>\n\n                    <Row>\n                        {this.state.spaces.map(event => <SpaceCard key={event._id} {...event} />)} {this.state.loggedInUser}\n                    </Row>\n                </Container>\n\n\n                <Modal show={this.state.showModalWindow} onHide={this.handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Añadir nuevo evento</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <SpaceForm closeModalWindow={this.handleClose} updateSpacesList={this.updateSpacesList} />\n                    </Modal.Body>\n                </Modal>\n\n            </section>\n\n        )\n    }\n}\n\n\nexport default SpaceList"]},"metadata":{},"sourceType":"module"}